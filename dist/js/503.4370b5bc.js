"use strict";(self["webpackChunkvue_shoping"]=self["webpackChunkvue_shoping"]||[]).push([[503],{4503:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"address"},[e("van-nav-bar",{attrs:{title:"收货地址","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("div",{staticClass:"boxAdd"},t._l(t.list,(function(s){return e("div",{key:s.address_id,staticClass:"box"},[e("div",{staticClass:"hder"},[e("p",[e("span",[t._v(t._s(s.name))]),t._v("  "),e("span",[t._v(t._s(s.phone))])]),e("p",[t._v(" ")]),e("p",[t._v(" "+t._s(s.region.province+s.region.city+s.region.region+s.detail)+" ")])]),e("div",{staticClass:"bot"},[e("div",[e("van-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[e("van-radio",{attrs:{name:s.address_id},on:{click:function(e){return t.chenage(s.address_id)}}},[t._v(" "+t._s(t.radio===s.address_id?"默认":"选择"))])],1)],1),e("div",[e("span",{on:{click:t.onEdit}},[e("van-icon",{attrs:{name:"edit"}}),t._v("编辑")],1),t._v("  "),e("span",{on:{click:function(e){return t.remove(s.address_id,s.detail)}}},[e("van-icon",{attrs:{name:"delete-o"}}),t._v("删除")],1)])])])})),0),e("div",{staticClass:"but",on:{click:t.onAdd}},[e("div",[t._v("添加地址")])])],1)},d=[],r=(s(3391),s(5705)),i=(s(7658),s(170)),n={name:"addreddIndex",data(){return{list:[],radio:null,addressList:[]}},computed:{radioId(){return this.list[0].address_id},detail(){return this.list.detail}},async created(){const{data:{list:t}}=await(0,i.mZ)();this.list=t,this.radio=JSON.parse(localStorage.getItem("address_id")),this.addressList=JSON.parse(localStorage.getItem("address"+this.detail))},methods:{onAdd(){this.$router.push({path:"/address/updata",query:{text:"新增地址"}})},onEdit(){this.$router.push({path:"/address/updata",query:{text:"修改地址"}})},async remove(t,e){r.Z.confirm({title:"提示",message:"您确定要删除当前收货地址吗"}).then((async()=>{await(0,i.Ro)(t),localStorage.removeItem("address"+e)})).catch((()=>{}))},async chenage(t){await(0,i.k)(t),localStorage.setItem("address_id",JSON.stringify(t))}}},o=n,c=s(1001),l=(0,c.Z)(o,a,d,!1,null,"8073cc58",null),u=l.exports},170:function(t,e,s){s.d(e,{Fg:function(){return r},Ro:function(){return i},k:function(){return n},mZ:function(){return d}});var a=s(4471);const d=()=>a.Z.get("/address/list"),r=(t,e,s,d)=>a.Z.post("/address/add",{form:{name:t,phone:e,region:s,detail:d}}),i=t=>a.Z.post("/address/remove",{addressId:t}),n=t=>a.Z.post("/address/setDefault",{addressId:t})}}]);
//# sourceMappingURL=503.4370b5bc.js.map